---
apiVersion: v1
kind: ServiceAccount
metadata:
  name: secret-store-sa
  namespace: secret-store
  annotations:
    azure.workload.identity/client-id: f9d92e71-c895-4b7f-94a3-58e09a2297d7
    azure.workload.identity/tenant-id: bb73082a-b74c-4d39-aec0-41c77d6f4850
    
---
apiVersion: external-secrets.io/v1beta1
kind: ClusterSecretStore
metadata:
  name: akv-backend
  namespace: secret-store
spec:
  provider:
    azurekv:
      authType: WorkloadIdentity
      vaultUrl: "https://demo-aks-westeu-9599.vault.azure.net/"
      serviceAccountRef:
        name: secret-store-sa
        namespace: secret-store