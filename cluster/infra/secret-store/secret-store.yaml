---
apiVersion: v1
kind: ServiceAccount
metadata:
  name: secret-store-sa
  namespace: secret-store
  annotations:
    azure.workload.identity/client-id: 90421a2b-00c8-4795-9fd6-2df88ee3724e
    azure.workload.identity/tenant-id: bb73082a-b74c-4d39-aec0-41c77d6f4850
    
---
apiVersion: external-secrets.io/v1beta1
kind: ClusterSecretStore
metadata:
  name: akv-backend
  namespace: secret-store
spec:
  provider:
    azurekv:
      authType: WorkloadIdentity
      vaultUrl: "https://demo-aks-westeu-8c8d.vault.azure.net/"
      serviceAccountRef:
        name: secret-store-sa
        namespace: secret-store